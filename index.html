<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Todos</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
    <div class="top">
        <h1>Todos App</h1>
    </div>
    <div class="middle">
        <div class="add-todo">
            <label for="new-todo">New Todo:</label><br>
            <input placeholder="Title..." type="text" id="new-todo" name="newTodo">
            <button id="bt-add" onclick="addNewElement()">Add</button>
        </div>
        <div class="todo-list">
            <ul id="list">
                <li>
                    <input type="checkbox" id="todo1" value="Cook">
                    <label for="todo1" id="label1">I have to cook</label>
                    <span class="glyphicon glyphicon-pencil"></span>
                    <span class="glyphicon glyphicon-trash"></span>
                </li>
            </ul>
        </div>
    </div>
    <div class="bottom">
    </div>
    <script>
        let todoList = document.getElementsByTagName("li");
        let lenList = todoList.length;
        let deleteEle = document.getElementsByClassName("glyphicon glyphicon-trash");
        for(let i = 0; i < lenList; i++){
            deleteEle[i].onclick = function () {
                let div = this.parentElement;
                div.style.display = "none";
            }
        }

        function addNewElement() {
            let todoList = document.getElementsByTagName("li");
            let lenList = todoList.length;

            let checkbox = document.createElement("input");
            checkbox.setAttribute("type", "checkbox");
            checkbox.id = 'todo'+ (lenList + 1);

            let label = document.createElement("label");
            label.id = 'label'+ (lenList + 1);
            label.htmlFor = checkbox.id;
            label.innerHTML = document.getElementById("new-todo").value;

            let spanPencil = document.createElement("span");
            spanPencil.className = "glyphicon glyphicon-pencil";
            let spanTrash = document.createElement("span");
            spanTrash.className = "glyphicon glyphicon-trash";

            let li = document.createElement("li");
            li.appendChild(checkbox);
            li.appendChild(label);
            li.appendChild(spanPencil);
            li.appendChild(spanTrash);

            if (document.getElementById("new-todo").value === '')
                alert("You must write something");
            else
                document.getElementById("list").appendChild(li);

            document.getElementById("new-todo").value = '';

            console.log(spanTrash.length);
            // for(let i = 0; i < spanTrash.className.length; i++){
            //     spanTrash[i].onclick = function () {
            //         let div = this.parentElement;
            //         div.style.display = "none";
            //     }
            // }
        }
        
        // function deleteElement() {
        //
        //
        //
        // }
    </script>
</body>
</html>